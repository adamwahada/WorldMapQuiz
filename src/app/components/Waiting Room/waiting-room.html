<div class="waiting-room-container">
  <!-- Hero section / header style -->
  <div class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-pattern"></div>
    <div class="header">
      <div class="logo">
        <h1>GeoQuiz</h1>
        <span>WORLD EDITION</span>
      </div>
      <div class="session-info">
        <div class="countdown">
          <span>{{ countdown() | number:'2.0-0' }}</span> seconds left
        </div>
        <div class="slots">
          Remaining slots: {{ remainingSlots }}
        </div>
        <div class="session-code-display">
          <strong>Session Code:</strong>
          <span class="code">{{ sessionCode() }}</span>
          <button class="copy-btn" (click)="copySessionCode()" title="Copy session code">
            ðŸ“‹
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Player list -->
  <div class="player-list">
    <h3>Players in Room</h3>
    <ul>
      @for (player of gameData()?.players | keyvalue; track player) {
        <li [@playerAnim]>
          {{ player.value.name }}
        </li>
      }
    </ul>
  </div>

  <!-- Notifications -->
  <div class="notification-wrapper">
    @if (newJoinNotification()) {
      <div class="notification join" [@fadeInOut]>
        {{ newJoinNotification() }}
      </div>
    }
    @if (maxPlayersReached()) {
      <div class="notification max" [@fadeInOut]>
        Max players reached! Creator can start the game.
      </div>
    }
  </div>

  <!-- Actions -->
  <div class="waiting-actions">
    <button class="btn btn-leave" (click)="leaveRoom()">Leave Room</button>
    @if (currentUser()?.uid === gameData()?.ownerId && Object.keys(gameData()?.players || {}).length >= 2) {
      <button
        class="btn btn-start"
        (click)="startGame()"
        >
        Start Game
      </button>
    }
  </div>
</div>
